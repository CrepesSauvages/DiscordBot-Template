<!DOCTYPE html>
<html>
<head>
    <title><%= translate('dashboard.welcome.title') %></title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="dashboard-container">
        <header>
            <h1><%= translate('dashboard.servers.title') %></h1>
            <div class="user-info">
                <img src="https://cdn.discordapp.com/avatars/<%= user.id %>/<%= user.avatar %>.png" alt="Avatar">
                <span><%= user.username %></span>
                <a href="/auth/logout" class="logout-btn">DÃ©connexion</a>
            </div>
        </header>

        <main>
            <div class="servers-grid">
                <% guilds.forEach(guild => { %>
                    <div class="server-card">
                        <img src="<%= guild.icon ? `https://cdn.discordapp.com/icons/${guild.id}/${guild.icon}.png` : '/img/default_guild.png' %>" 
                             alt="<%= guild.name %>">
                        <h3><%= guild.name %></h3>
                        <a href="/guild/<%= guild.id %>/settings" class="manage-btn">
                            <%= translate('dashboard.servers.manage') %>
                        </a>
                    </div>
                <% }); %>
            </div>
        </main>
    </div>

    <script>
        const translations = "<%- JSON.stringify(translations) %>";
    </script>
    <script src="/js/dashboard.js"></script>
</body>
</html> 